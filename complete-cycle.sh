#!/bin/bash -xe

export INFRA_IP='159.100.242.78'
export MINIO_ACCESS_KEY='9mChxImwgI31GHQZTJV3e9ci'
export MINIO_SECRET_KEY='Ocgc2gyNAvk3NdI5TQgE13px'
export SWARM_CERT=\
'-----BEGIN CERTIFICATE-----\nMIIE8jCCAtqgAwIBAgIJALTvezzoUkXhMA0GCSqGSIb3DQEBCwUAMEcxCzAJBgNV\nBAYTAkNIMQ8wDQYDVQQHDAZHZW5ldmExDjAMBgNVBAoMBVNpeFNxMRcwFQYDVQQD\nDA4xNTkuMTAwLjI0Mi43ODAeFw0xOTAzMTIxMDM0MThaFw0yMDAzMTExMDM0MTha\nMBExDzANBgNVBAMMBmNsaWVudDCCAiIwDQYJKoZIhvcNAQEBBQADggIPADCCAgoC\nggIBAMacoV8i5068jPNMlyGPxrTVdHaJWTfRD2FmkyK0Yc0+WVvkNPbrxyHJQh4H\nIBbBJcBG9nRJGpb9AjSLwdxmYA6TSn1MuvSKK/9QwNQ470RVXfUvTFhsdstjLHUW\nAXFLGRUk7n9b7RzZADZJb5/bEb0hAb0j7+Lv8KyQ7AE+1TliJqLDjudk6ZU0ndIe\nv3buyLMG9AO18qKT5GvH6nm5pRtFIQPU2dOusP2FnnTdvQVImG4OF+waXjBYf+ur\nY54ZTKngjEJ08lvpn8VZ8bsaTo4edvFGJCXJLQCYjvFD2WlwNGaAuhUgnSS75j45\n5wQbnGF/rm9+75NiBCWpBdIra6BaeqBOSzwOGxA7A6zG0lFuaM3VfrL/Zm2x7bwY\nnJlKz3hkwyehIUjm7k7o+mc65gX0w6Ct73O1Z1wXDwIodtImn4MWFDsdz+tFwySH\nykRicsR7G4E0kIi3Q6dbf6kEJhXkl+KhSnLqAcO57+UGAnOccm6MqIK0cNrMJ5cn\n8Cgvhggone2czJT7F2Zc6lIQDjSg1tkxLV6cZ7rVOl3FZquAkvOgEmOmIwRKdbyY\nISGJ4rK4bjeS73+tYbVShg8IcNwTI4B8HRYJ68T41k+LLWXCL7YVTZjwQtK1pF14\n5Fl5bEV5zvVP68vYNfFLD3Ssu6IABgfVXTh1TvRvA7IvxlH7AgMBAAGjFzAVMBMG\nA1UdJQQMMAoGCCsGAQUFBwMCMA0GCSqGSIb3DQEBCwUAA4ICAQCZKnVto/su5ov7\n33tu6yOglmBaX9SpDbDpRJJKzmFHUB6o24nLR8Ds6JEKDNztLTn7qpLsTcSuYLwf\ngiVBRlOo7NvjUucztH3au3MVRWgrODcJEOdnYsV/9lclp50Z5BykIogOUb9+eGj7\nuVsbIejOqnRKCLq1W5iiBeWlA4gRklcBz6Ge1BQ3cngMYUciO/iqvbUWEKQDnBn1\ntxAKq2KAfnzAn6ozOYuubrJrtQWNMtWvIXIqyZ2DKwmIf7spK5n1rcGkBw0W9Nit\nsq6jDX9yMvU5txYP3nZqKfRXAij+EslOB5d29RjeefhazLP1NRQxqIilkuSOteuy\np2+TQCdB3d+yFlStSi03yhVNd0mlau4ZtRdpGpLdpDGX7Eo/YjvFpQcXwL3i8T5z\nZxVDxvXo/afhvnZHH4/EkwRzg/KKOKxIrd/n7s3RmgFMdd3ZBpcmB0aZy1lfZ7S1\nX5zrPmBnC9Lt5Ou0GzgnoQyIfGECZFf3xrVt8NZFcfvZo5k0F7NSyhdcQoGOccol\nVR/8IPF0ifWSZDHIKJkM8Dv6Ro+Ykz8c0RZWQG5jArR7w10k1r568uqLHAgdR5Md\nDrJdEloeU7w3RjVlyUDhV/HV32dBkpZGgH9zS2qJpHDUcq6Rg+zTSI8GiRj/jCT0\nsceuJe06VsWC44rUU64jZeexxHKD+w==\n-----END CERTIFICATE-----\n'
export SWARM_KEY=\
'-----BEGIN RSA PRIVATE KEY-----\n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\n-----END RSA PRIVATE KEY-----\n'
export NUVLA_ENDPOINT='https://localhost'
export MINIO_ENDPOINT="http://$INFRA_IP:9000"
export SWARM_ENDPOINT="https://$INFRA_IP:2376"

#
# install api
#

pip install nuvla-api

#
# do the work
#

python srvs-creds.py

python create-data.py 



